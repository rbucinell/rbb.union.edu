<!DOCTYPE html>
<html lang="en">
  <!--                                                                                                      -->
  <!-- Do not modify this file! It was automatically generated. To change it's content go to content folder -->
  <!--                                                                                                      -->
  <head>
    <title>Videos | Ronald B. Bucinell</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="author" content="Ryan Bucinell">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="Ronald Bucinell's Professional Website">
    <meta name="keywords" content="factulty, professor, profile, ronlad bucinell, union, union college, mechanical, engineering, Videos">
    <meta property="og:site_name" content="rbb.union.edu">
    <meta property="og:title" content="Ronald B. Bucinell Ph.D., P.E">
    <meta property="og:description" content="Ronald B. Bucinell's Professional Website">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/img/portrait.jpg">
    <meta property="og:locale" content="en_US">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Ronald B. Bucinell Ph.D., P.E">
    <meta name="twitter:description" content="Ronald B. Bucinell's Professional Website">
    <meta name="twitter:image" content="/img/portrait.jpg">
    <meta name="twitter:image:alt" content="Ronald's Portrait">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/lib.min.css">
    <link rel="stylesheet" href="/css/style.min.css">
    <style>
      #videoMenu li{
          background-color: var(--union-light-stone);
      }
      
      #videoMenu .panel-heading {
          background-color: #ccc;
          color: var(--rbb-black);
      }
      #videotable > tbody > tr > td > i {
          display: none;
      }
      
      td.selected {
          background-color: var(--union-garnet);
          color:white;
      }
      
      #videotable > tbody > tr > td.selected > i{
          display: block;
      }
      
    </style>
  </head>
  <style>
    #videoMenu li{
        background-color: var(--union-light-stone);
    }
    
    #videoMenu .panel-heading {
        background-color: #ccc;
        color: var(--rbb-black);
    }
    #videotable > tbody > tr > td > i {
        display: none;
    }
    
    td.selected {
        background-color: var(--union-garnet);
        color:white;
    }
    
    #videotable > tbody > tr > td.selected > i{
        display: block;
    }
    
  </style>
  <body class="d-flex flex-column vh-100 overflow-hidden">
    <div class="d-flex flex-column flex-sm-row overflow-auto h-100">
      <div class="row w-100">
        <aside class="g-0 col-sm-3 flex-shrink-1 sticky-top pb-sm-0 pb-3" id="nav-aside">
          <!--.p-1.h-100.sticky-top-->
          <div class="m-2" id="profile"><img class="img-thumbnail d-none d-sm-block" width="250px" height="250px">
            <div class="title text-center"><a href="/">
                <h4 class="pt-2">Ronald B. Bucinell, Ph.D., P.E.</h4></a>
              <h4 class="lead">Union College</h4>
            </div>
          </div>
          <nav class="navbar navbar-expand-sm d-flex flex-column">
            <button class="navbar-toggler mb-4 text-white" id="navtogglebutton" type="button" data-bs-toggle="collapse" data-bs-target=".navgroup"><i class="fa fa-bars"></i></button>
            <ul class="flex-fill align-self-start align-items-start navgroup navbar-collapse collapse navigation nav flex-column" id="mainNavigation"></ul>
            <ul class="flex-fill align-self-start align-items-start navgroup navbar-collapse collapse navigation nav flex-column mt-3" id="courseNameHeader">
              <li><span class="text-white px-2 lead font-weight-bold" id="courseNavName"></span></li>
            </ul>
            <ul class="flex-fill align-self-start align-items-start navgroup navbar-collapse collapse navigation nav flex-column" id="courseNavigation"></ul>
          </nav>
          <div class="social-icons">
            <div class="d-flex justify-content-center text-center"><span class="fs-3 flex-fill"><a title="Outlook Contact Card" href="/data/PE_Ronald_B_Bucinell_PhD.msg"><i class="fa-user fa"></i></a></span><span class="fs-3 flex-fill"><a title="LinkedIn Profile" href="https://www.linkedin.com/pub/ronald-bucinell/15/772/5a4"><i class="fa fa-linkedin"></i></a></span><span class="fs-3 flex-fill"><a title="Research Gate Profile" href="http://www.researchgate.net/profile/Ronald_Bucinell"><i class="ai ai-researchgate"></i></a></span><span class="fs-3 flex-fill"><a title="Phone Number" href="tel:+1518886023"><i class="fa fa-phone"></i></a></span><span class="fs-3 flex-fill"><a title="Email" href="mailto:bucinelr@union.edu"><i class="fa fa-envelope-o"></i></a></span></div>
          </div>
        </aside>
        <script>
          /**
          * @param {String} HTML representing a single element
          * @return {Element} a DOM element
          */
          function htmlToElement(html) {
              var template = document.createElement('template');
              html = html.trim(); // Never return a text node of whitespace as the result
              template.innerHTML = html;
              return template.content.firstChild;
          }
          
          async function loadXMLDoc(filename)
          {
              let response = await fetch(filename);
              let txt = await response.text();
              return [new DOMParser().parseFromString( txt, 'application/xml'), response.headers.get('Last-Modified')];
          }
          
          async function loadNavigation( filename, ulID )
          {
              let [xmlDoc, modified ] = await loadXMLDoc( filename );
              let ul = document.querySelector(`#${ulID}`);
              xmlDoc.querySelectorAll('item').forEach((item,i) =>
              {
                  let li = document.createElement('li');
                  let subitems = item.querySelectorAll('subitem');
                  if( subitems )
                  {
                      li.classList = 'nav-link px-2 text-wrap';
                      let menuName = item.getAttribute('name');
                      let anchor = htmlToElement(`<a id="${ulID}_menu${i}" class="text-white" data-bs-parent="#${ulID}" data-bs-toggle='collapse' data-bs-target='#${ulID}_submenu${i}' aria-expanded='false'>${menuName}</a>`);
                      let subul  = htmlToElement(`<ul id="${ulID}_submenu${i}" class="nav nav-pills flex-sm-column flex-row mb-auto justify-content-between text-truncate collapse" aria-labelledby="${ulID}_menu${i}"></ul>`);
                      
                      let expand = false;
                      //Add all the sub-menu items to sub-menu
                      item.querySelectorAll('subitem').forEach((sub,j)=>{
                          
                          let path = window.location.pathname.endsWith('/') ? 'index.html' : window.location.pathname;
                          if( path.includes(sub.getAttribute('target'))) expand = true;
          
                          let subli = document.createElement('li');
                          subli.classList = 'my-1 px-2 text-truncate text-muted';
                          let suba = htmlToElement(`<a class="text-white-50" href="${sub.getAttribute('target')}">${sub.getAttribute('name')}</a>`);
                          if( sub.getAttribute('external') )
                          {
                              suba.setAttribute('target', '_blank');
                              suba.appendChild(htmlToElement(`<i class="fa fa-external-link" style="padding-left:1rem;" aria-hidden="true"></i>`));
                          }
                          subli.appendChild(suba);
                          subul.append( subli );
                      });
                      if( expand && window.innerWidth >= 768) subul.classList.add('show');
                      li.appendChild(anchor);
                      li.appendChild(subul);
                  }
                  ul.append(li);
              });
          }
          
          document.addEventListener('DOMContentLoaded', async ()=> {
              if( '' )
              {
                  document.querySelector('#mainNavigation').appendChild(htmlToElement(`<li><a class="nav-link px-2 text-white" href="/index.html">Home</a></li>`));
                  await loadNavigation("/courses//content/data/nav.xml",'courseNavigation')
              }
              else 
              {
                  await loadNavigation( "/content/data/nav.xml", "mainNavigation");
              }
              document.querySelector('#mainNavigation').appendChild(htmlToElement(`<li><a class="nav-link px-2 text-white" href="/contact.html">Contact</a></li>`));
          });
        </script>
        <main class="col overflow-auto h-100" id="main">
          <header class="page-header sticky-top mt-4 mb-2">
            <h1 class="dislay-5" id="pageheader">Videos</h1>
            <ul class="breadcrumb bg-light p-2">
              <li class="breadcrumb-item">Course Listing</li>
              <li class="breadcrumb-item active"><a href="#">Videos</a></li>
            </ul>
          </header>
          <div class="px-3">
            <section id="dadcontent"></section>
            <div class="row bg-black">
              <div class="text-center">
                <figure class="embed-responsive embed-responsive-16by9 filePreview" id="video_player" style="height: 400px;">
                  <iframe class="collapse" id="ytv" type="text/html" width="100%" height="100%" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe>
                  <video class="collapse show h-100" id="video" controls=""></video>
                </figure>
              </div>
            </div>
            <template id="listItemTemplate">
              <li class="list-group-item"> <span></span><i class="fa fa-arrow-right pull-right"></i></li>
            </template>
            <div class="row p-3" id="videoMenu">
              <div class="col-md-3 col-xs-4 panel g-0">
                <div class="panel-heading"><strong>Categories</strong></div>
                <ul class="list-group" id="category-list"></ul>
              </div>
              <div class="col-md-3 col-xs-4 panel g-0">
                <div class="panel-heading"><strong>Topics</strong></div>
                <ul class="list-group" id="topic-list"></ul>
              </div>
              <div class="col-md-6 col-xs-4 panel g-0">
                <div class="panel-heading"><strong> Videos</strong></div>
                <ul class="list-group" id="video-list"></ul>
              </div>
            </div>
            <section class="updated text-garnet fst-italic pull-right fw-light"></section>
          </div>
        </main>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script type="text/javascript" src="/js/lib.min.js"></script>
    <script type="text/javascript" src="/js/rbb.min.js"></script>
    <script>
      const event = new Event( 'DadContentLoaded' );
      /**
      * String helper function to see if input string 'str' ends with the string 'suffix'
      **/
      const endsWith = (str, suffix) => str.indexOf(suffix, str.length - suffix.length) !== -1;
      
      /**
      *   Function to format the html list after it is loaded
      **/
      function formatListGroup(headerText) {
          let listOfLI = [...document.querySelectorAll(`.list-group > li`)];
          console.log(listOfLI)
          listOfLI.forEach( n => n.classList +='list-group-item')
          document.querySelector( 'header > h1' ).innerText = `${headerText} (${listOfLI.length})`;
      }
      
      /**
      *  On DOM LOAD fetch the respective content file to populate the page
      **/
      document.addEventListener('DOMContentLoaded', async ()=> {
      
          let contentPath =  `content/${window.location.pathname.split('/').pop()}`;
          let response = await fetch(contentPath);
          if( response.status === 404)
          {
              response = await fetch(`/data/404.html`);
          }
          else {
              let updateDate = new Date(response.headers.get('Last-Modified')).toDateString();
              document.querySelector('.updated').innerText = `Updated: ${updateDate}`;
          }
          let data = await response.text();
          document.querySelector('#dadcontent').innerHTML = data;
          document.dispatchEvent( event );
      });
    </script>
    <script>
      let videoXMLDoc = null;
      let tableBody = document.querySelector('#videotable > tbody');
      let template = document.querySelector('#listItemTemplate');
      let categoryList =  document.querySelector('#category-list');
      let topicList =  document.querySelector('#topic-list');
      let videoList =  document.querySelector('#video-list');
      
      function loadCategories()
      {
          categoryList.innerHTML = '';
          videoXMLDoc.querySelectorAll('Category').forEach( c =>{
              let clone = template.content.cloneNode(true);
              let li = clone.querySelector('li');
              li.addEventListener('click', selectCategory);
              li.querySelector('span').innerText = c.getAttribute('name');
              categoryList.appendChild( clone );
          });
          categoryList.children[0].click();
      }
      
      function toggleSelection( li, isSelected )
      {
          let icon = li.querySelector('i');
          if( isSelected )
          {
              li.classList.add('selected');
              icon.classList.remove('text-muted');
              icon.classList.add('text-garnet');
          }
          else 
          {
              li.classList.remove('selected');
              icon.classList.add('text-muted');
              icon.classList.remove('text-garnet');
          }
      }
      
      function selectCategory( event )
      {
          let category = event.currentTarget;
          if( category.classList.contains('selected'))
              return;
          
          //Clear Selected from all
          let list = categoryList.querySelectorAll('li');
          list.forEach( li => toggleSelection(li, false));
          //Select current
          
          toggleSelection(category, true)
      
          //Populate Topics
          topicList.innerHTML = '';
          let xmlCategory = videoXMLDoc.querySelector( `Category[name="${category.innerText}"]`);
          xmlCategory.querySelectorAll('Topic').forEach( t =>{
              let clone = template.content.cloneNode(true);
              let li = clone.querySelector('li');
              li.addEventListener('click', selectTopic );
              li.querySelector('span').innerText = t.getAttribute('name');
              topicList.appendChild(clone );
          });
      
          event.stopPropagation();
          //Select First Topic
          if(topicList.children[0])
              topicList.children[0].click();
      }
      
      function selectTopic( event )
      {
          let topic = event.currentTarget;
          if( topic.classList.contains('selected'))
              return;
          
          //Clear Selected from all
          let list = topicList.querySelectorAll('li');
          list.forEach( li => toggleSelection(li, false));
          toggleSelection(topic, true)
      
          //Populate Topics
          videoList.innerHTML = '';
          let xmlCategory = videoXMLDoc.querySelector( `Topic[name="${topic.innerText}"]`);
          xmlCategory.querySelectorAll('Video').forEach( v =>{
              let clone = template.content.cloneNode(true);
              let li = clone.querySelector('li');
              li.addEventListener('click', selectVideo );
              li.setAttribute('data-link', v.getAttribute('link'));
              li.querySelector('span').innerText = v.getAttribute('name');
              let icon = li.querySelector('i');
              icon.classList.remove('fa-arrow-right');
              icon.classList.add( 'fa-minus' );
              videoList.appendChild( clone );
              toggleSelection(li,false);
          });
      
          event.stopPropagation();
          //Select First Topic
          //if(videoList.children[0])
          //    videoList.children[0].click();
      }
      
      function selectVideo( event )
      {
          let vid = event.currentTarget;
          if( vid.classList.contains('selected'))
              return;
      
          //Clear Selected from all
          let list = videoList.querySelectorAll('li');
          list.forEach( li => {
              toggleSelection( li, false );
              li.querySelector('i').classList.add( 'fa-minus' );
      
          });
          toggleSelection( vid, true );
          vid.querySelector('i').classList.add( 'fa-check' );
          vid.querySelector('i').classList.remove('fa-minus');
          loadVideo( vid.getAttribute('data-link'));
          event.stopPropagation();
      }
      
      function loadVideo( url )
      {
          let video = document.querySelector('#video');
          let ytvideo = document.querySelector('#ytv');
          ytvideo.src = ''
          video.pause();
          if( ['youtube','youtu.be', 'yt.be'].some( yt => url.includes( yt )))
          {
              video.classList.toggle('show', false);
              ytvideo.classList.toggle('show', true);
              //dealing with a yt link
              video.currentTime = 0;
              video.controls = false;
              document.querySelector('#ytv').src = url;
          }
          else 
          {
              video.classList.toggle('show', true);
              ytvideo.classList.toggle('show', false);
              video.controls = true;
              video.src = url.startsWith('http') ? url : `data/video/${url}`;
              video.load();
              video.play();
          }
      }
      
      document.addEventListener('DadContentLoaded', async function loadHandler(){
          document.removeEventListener('DadContentLoaded', loadHandler);
          let response = await fetch('content/data/videos.xml');
          let data = await response.text();
          const parser = new DOMParser();
          videoXMLDoc = parser.parseFromString( data, "application/xml" );
          loadCategories();
      });
    </script>
  </body>
</html>